--source include/have_partition.inc

CREATE TABLE t1 (a INT) PARTITION BY HASH(a) PARTITIONS 1;

CREATE TABLE t2 (b INT);
INSERT INTO t2 VALUES (1),(2);
--error ER_SUBQUERY_NO_1_ROW
UPDATE t1 SET a = 7 WHERE a = (select b from t2);

drop table t1, t2;
