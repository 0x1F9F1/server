
# MDEV#5534: mysql_tzinfo_to_sql generates wrong query
#
# Testing wsrep_replicate_myisam variable.
SELECT @@session.wsrep_replicate_myisam;
ERROR HY000: Variable 'wsrep_replicate_myisam' is a GLOBAL variable
SELECT @@global.wsrep_replicate_myisam;
@@global.wsrep_replicate_myisam
0
SET SESSION wsrep_replicate_myisam= ON;
ERROR HY000: Variable 'wsrep_replicate_myisam' is a GLOBAL variable and should be set with SET GLOBAL
SET GLOBAL wsrep_replicate_myisam= ON;
SET GLOBAL wsrep_replicate_myisam= OFF;
#
# MDEV#5790: SHOW GLOBAL STATUS LIKE does not show the correct list of
# variables when using "_"
#
CALL mtr.add_suppression("WSREP: Could not open saved state file for reading.*");
SHOW GLOBAL STATUS LIKE 'wsrep%';
Variable_name	Value
wsrep_local_state_uuid	#
wsrep_protocol_version	#
wsrep_last_committed	#
wsrep_replicated	#
wsrep_replicated_bytes	#
wsrep_repl_keys	#
wsrep_repl_keys_bytes	#
wsrep_repl_data_bytes	#
wsrep_repl_other_bytes	#
wsrep_received	#
wsrep_received_bytes	#
wsrep_local_commits	#
wsrep_local_cert_failures	#
wsrep_local_replays	#
wsrep_local_send_queue	#
wsrep_local_send_queue_avg	#
wsrep_local_recv_queue	#
wsrep_local_recv_queue_avg	#
wsrep_local_cached_downto	#
wsrep_flow_control_paused_ns	#
wsrep_flow_control_paused	#
wsrep_flow_control_sent	#
wsrep_flow_control_recv	#
wsrep_cert_deps_distance	#
wsrep_apply_oooe	#
wsrep_apply_oool	#
wsrep_apply_window	#
wsrep_commit_oooe	#
wsrep_commit_oool	#
wsrep_commit_window	#
wsrep_local_state	#
wsrep_local_state_comment	#
wsrep_cert_index_size	#
wsrep_causal_reads	#
wsrep_cert_interval	#
wsrep_incoming_addresses	#
wsrep_cluster_conf_id	#
wsrep_cluster_size	#
wsrep_cluster_state_uuid	#
wsrep_cluster_status	#
wsrep_connected	#
wsrep_local_bf_aborts	#
wsrep_local_index	#
wsrep_provider_name	#
wsrep_provider_vendor	#
wsrep_provider_version	#
wsrep_ready	#

SHOW GLOBAL STATUS LIKE 'wsrep_%';
Variable_name	Value
wsrep_local_state_uuid	#
wsrep_protocol_version	#
wsrep_last_committed	#
wsrep_replicated	#
wsrep_replicated_bytes	#
wsrep_repl_keys	#
wsrep_repl_keys_bytes	#
wsrep_repl_data_bytes	#
wsrep_repl_other_bytes	#
wsrep_received	#
wsrep_received_bytes	#
wsrep_local_commits	#
wsrep_local_cert_failures	#
wsrep_local_replays	#
wsrep_local_send_queue	#
wsrep_local_send_queue_avg	#
wsrep_local_recv_queue	#
wsrep_local_recv_queue_avg	#
wsrep_local_cached_downto	#
wsrep_flow_control_paused_ns	#
wsrep_flow_control_paused	#
wsrep_flow_control_sent	#
wsrep_flow_control_recv	#
wsrep_cert_deps_distance	#
wsrep_apply_oooe	#
wsrep_apply_oool	#
wsrep_apply_window	#
wsrep_commit_oooe	#
wsrep_commit_oool	#
wsrep_commit_window	#
wsrep_local_state	#
wsrep_local_state_comment	#
wsrep_cert_index_size	#
wsrep_causal_reads	#
wsrep_cert_interval	#
wsrep_incoming_addresses	#
wsrep_cluster_conf_id	#
wsrep_cluster_size	#
wsrep_cluster_state_uuid	#
wsrep_cluster_status	#
wsrep_connected	#
wsrep_local_bf_aborts	#
wsrep_local_index	#
wsrep_provider_name	#
wsrep_provider_vendor	#
wsrep_provider_version	#
wsrep_ready	#
SHOW GLOBAL STATUS LIKE 'wsrep_local_state_comment';
Variable_name	Value
wsrep_local_state_comment	Synced
# Should show nothing.
SHOW STATUS LIKE 'x';
Variable_name	Value
#
# MDEV#6079: xtrabackup SST failing with maria-10.0-galera
#

SHOW STATUS LIKE 'wsrep_local_state_uuid';
Variable_name	Value
wsrep_local_state_uuid	#

SHOW STATUS LIKE 'wsrep_last_committed';
Variable_name	Value
wsrep_last_committed	#
# End of test.
