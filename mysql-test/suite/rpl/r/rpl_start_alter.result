include/master-slave.inc
[connection master]
set global binlog_split_alter=true;
#Legacy Master Slave
connection master;
# Myisam
create table t1( a int, b int);
insert into t1 values(1,1);
insert into t1 values(2,2);
#Normal Alter
alter table t1 add column c int;
#Failed Alter
insert into t1 values(1,1, NULL);
alter table t1 change a a int unique ;
ERROR 23000: Duplicate entry '1' for key 'a'
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
show create table t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int(11) DEFAULT NULL,
  `b` int(11) DEFAULT NULL,
  `c` int(11) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1
connection master;
drop table t1;
connection slave;
connection master;
# Innodb
create table t1( a int, b int) engine=innodb;
insert into t1 values(1,1);
insert into t1 values(2,2);
#Normal Alter
alter table t1 add column c int;
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
show create table t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int(11) DEFAULT NULL,
  `b` int(11) DEFAULT NULL,
  `c` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1
connection master;
drop table t1;
connection slave;
connection master;
# Aria
create table t1( a int, b int) engine=aria;
insert into t1 values(1,1);
insert into t1 values(2,2);
#Normal Alter
alter table t1 add column c int;
#Failed Alter
insert into t1 values(1,1, NULL);
alter table t1 change a a int unique ;
ERROR 23000: Duplicate entry '1' for key 'a'
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
show create table t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int(11) DEFAULT NULL,
  `b` int(11) DEFAULT NULL,
  `c` int(11) DEFAULT NULL
) ENGINE=Aria DEFAULT CHARSET=latin1 PAGE_CHECKSUM=1
connection master;
drop table t1;
connection slave;
connection master;
#concurrent alter Myisam
SET @old_debug= @@global.debug;
set global debug_dbug="+d,start_alter_delay_master";
create table t1( a int primary key, b int) engine=myisam;
insert into t1 values(1,1),(2,2);
create table t2( a int primary key, b int) engine=myisam;
insert into t2 values(1,1),(2,2);
create table t3( a int primary key, b int) engine=myisam;
insert into t3 values(1,1),(2,2);
create table t4( a int primary key, b int) engine=myisam;
insert into t4 values(1,1),(2,2);
create table t5( a int primary key, b int) engine=myisam;
insert into t5 values(1,1),(2,2);
connect  con1,localhost,root,,;
connect  con2,localhost,root,,;
connect  con3,localhost,root,,;
connect  con4,localhost,root,,;
connect  con5,localhost,root,,;
connect  con6,localhost,root,,;
connect  con7,localhost,root,,;
connect  con8,localhost,root,,;
connect  con9,localhost,root,,;
connect  con10,localhost,root,,;
connection con1;
alter  table t1 add column c int, force, algorithm=copy;
connection con2;
alter  table t2 add column c int, force, algorithm=copy;
connection con3;
alter  table t3 add column c int, force, algorithm=copy;
connection con4;
alter  table t4 add column c int, force, algorithm=copy;
connection con5;
alter  table t5 add column c int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
#Concurrent DML
connection con1;
alter table t1 add column d int, force, algorithm=copy;
connection con2;
alter table t2 add column d int, force, algorithm=copy;
connection con3;
alter table t3 add column d int, force, algorithm=copy;
connection con4;
alter table t4 add column d int, force, algorithm=copy;
connection con5;
alter table t5 add column d int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
# Rollback tests
connection con1;
insert into t1 values(3,2,1,1);
alter table t1 change b b int unique, force, algorithm=copy;
connection con2;
insert into t2 values(3,2,1,1);
alter table t2 change b b int unique, force, algorithm=copy;
connection con3;
insert into t3 values(3,2,1,1);
alter table t3 change b b int unique, force, algorithm=copy;
connection con4;
insert into t4 values(3,2,1,1);
alter table t4 change b b int unique, force, algorithm=copy;
connection con5;
insert into t5 values(3,2,1,1);
alter table t5 change b b int unique, force, algorithm=copy;
connection con1;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con2;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con3;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con4;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con5;
ERROR 23000: Duplicate entry '2' for key 'b'
drop table t1,t2,t3,t4,t5;
disconnect con1;
disconnect con2;
disconnect con3;
disconnect con4;
disconnect con5;
disconnect con6;
disconnect con7;
disconnect con8;
disconnect con9;
disconnect con10;
connection default;
SET GLOBAL debug_dbug= @old_debug;
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 16 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 17 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 18 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 19 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 20 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
connection master;
#concurrent alter Aria
SET @old_debug= @@global.debug;
set global debug_dbug="+d,start_alter_delay_master";
create table t1( a int primary key, b int) engine=aria;
insert into t1 values(1,1),(2,2);
create table t2( a int primary key, b int) engine=aria;
insert into t2 values(1,1),(2,2);
create table t3( a int primary key, b int) engine=aria;
insert into t3 values(1,1),(2,2);
create table t4( a int primary key, b int) engine=aria;
insert into t4 values(1,1),(2,2);
create table t5( a int primary key, b int) engine=aria;
insert into t5 values(1,1),(2,2);
connect  con1,localhost,root,,;
connect  con2,localhost,root,,;
connect  con3,localhost,root,,;
connect  con4,localhost,root,,;
connect  con5,localhost,root,,;
connect  con6,localhost,root,,;
connect  con7,localhost,root,,;
connect  con8,localhost,root,,;
connect  con9,localhost,root,,;
connect  con10,localhost,root,,;
connection con1;
alter  table t1 add column c int, force, algorithm=copy;
connection con2;
alter  table t2 add column c int, force, algorithm=copy;
connection con3;
alter  table t3 add column c int, force, algorithm=copy;
connection con4;
alter  table t4 add column c int, force, algorithm=copy;
connection con5;
alter  table t5 add column c int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
#Concurrent DML
connection con1;
alter table t1 add column d int, force, algorithm=copy;
connection con2;
alter table t2 add column d int, force, algorithm=copy;
connection con3;
alter table t3 add column d int, force, algorithm=copy;
connection con4;
alter table t4 add column d int, force, algorithm=copy;
connection con5;
alter table t5 add column d int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
# Rollback tests
connection con1;
insert into t1 values(3,2,1,1);
alter table t1 change b b int unique, force, algorithm=copy;
connection con2;
insert into t2 values(3,2,1,1);
alter table t2 change b b int unique, force, algorithm=copy;
connection con3;
insert into t3 values(3,2,1,1);
alter table t3 change b b int unique, force, algorithm=copy;
connection con4;
insert into t4 values(3,2,1,1);
alter table t4 change b b int unique, force, algorithm=copy;
connection con5;
insert into t5 values(3,2,1,1);
alter table t5 change b b int unique, force, algorithm=copy;
connection con1;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con2;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con3;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con4;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con5;
ERROR 23000: Duplicate entry '2' for key 'b'
drop table t1,t2,t3,t4,t5;
disconnect con1;
disconnect con2;
disconnect con3;
disconnect con4;
disconnect con5;
disconnect con6;
disconnect con7;
disconnect con8;
disconnect con9;
disconnect con10;
connection default;
SET GLOBAL debug_dbug= @old_debug;
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 16 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 17 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 18 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 19 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 20 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 26 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 27 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 28 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 29 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 30 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
connection master;
#concurrent alter Innodb copy
SET @old_debug= @@global.debug;
set global debug_dbug="+d,start_alter_delay_master";
create table t1( a int primary key, b int) engine=innodb;
insert into t1 values(1,1),(2,2);
create table t2( a int primary key, b int) engine=innodb;
insert into t2 values(1,1),(2,2);
create table t3( a int primary key, b int) engine=innodb;
insert into t3 values(1,1),(2,2);
create table t4( a int primary key, b int) engine=innodb;
insert into t4 values(1,1),(2,2);
create table t5( a int primary key, b int) engine=innodb;
insert into t5 values(1,1),(2,2);
connect  con1,localhost,root,,;
connect  con2,localhost,root,,;
connect  con3,localhost,root,,;
connect  con4,localhost,root,,;
connect  con5,localhost,root,,;
connect  con6,localhost,root,,;
connect  con7,localhost,root,,;
connect  con8,localhost,root,,;
connect  con9,localhost,root,,;
connect  con10,localhost,root,,;
connection con1;
alter  table t1 add column c int, force, algorithm=copy;
connection con2;
alter  table t2 add column c int, force, algorithm=copy;
connection con3;
alter  table t3 add column c int, force, algorithm=copy;
connection con4;
alter  table t4 add column c int, force, algorithm=copy;
connection con5;
alter  table t5 add column c int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
#Concurrent DML
connection con1;
alter table t1 add column d int, force, algorithm=copy;
connection con2;
alter table t2 add column d int, force, algorithm=copy;
connection con3;
alter table t3 add column d int, force, algorithm=copy;
connection con4;
alter table t4 add column d int, force, algorithm=copy;
connection con5;
alter table t5 add column d int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
# Rollback tests
connection con1;
insert into t1 values(3,2,1,1);
alter table t1 change b b int unique, force, algorithm=copy;
connection con2;
insert into t2 values(3,2,1,1);
alter table t2 change b b int unique, force, algorithm=copy;
connection con3;
insert into t3 values(3,2,1,1);
alter table t3 change b b int unique, force, algorithm=copy;
connection con4;
insert into t4 values(3,2,1,1);
alter table t4 change b b int unique, force, algorithm=copy;
connection con5;
insert into t5 values(3,2,1,1);
alter table t5 change b b int unique, force, algorithm=copy;
connection con1;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con2;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con3;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con4;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con5;
ERROR 23000: Duplicate entry '2' for key 'b'
drop table t1,t2,t3,t4,t5;
disconnect con1;
disconnect con2;
disconnect con3;
disconnect con4;
disconnect con5;
disconnect con6;
disconnect con7;
disconnect con8;
disconnect con9;
disconnect con10;
connection default;
SET GLOBAL debug_dbug= @old_debug;
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 16 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 17 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 18 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 19 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 20 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 26 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 27 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 28 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 29 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 30 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 38 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 36 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 37 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 39 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 40 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
connection master;
#concurrent alter Innodb Inplace
SET @old_debug= @@global.debug;
set global debug_dbug="+d,start_alter_delay_master";
create table t1( a int primary key, b int) engine=innodb;
insert into t1 values(1,1),(2,2);
create table t2( a int primary key, b int) engine=innodb;
insert into t2 values(1,1),(2,2);
create table t3( a int primary key, b int) engine=innodb;
insert into t3 values(1,1),(2,2);
create table t4( a int primary key, b int) engine=innodb;
insert into t4 values(1,1),(2,2);
create table t5( a int primary key, b int) engine=innodb;
insert into t5 values(1,1),(2,2);
connect  con1,localhost,root,,;
connect  con2,localhost,root,,;
connect  con3,localhost,root,,;
connect  con4,localhost,root,,;
connect  con5,localhost,root,,;
connect  con6,localhost,root,,;
connect  con7,localhost,root,,;
connect  con8,localhost,root,,;
connect  con9,localhost,root,,;
connect  con10,localhost,root,,;
connection con1;
alter  table t1 add column c int, force, algorithm=inplace;
connection con2;
alter  table t2 add column c int, force, algorithm=inplace;
connection con3;
alter  table t3 add column c int, force, algorithm=inplace;
connection con4;
alter  table t4 add column c int, force, algorithm=inplace;
connection con5;
alter  table t5 add column c int, force, algorithm=inplace;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
#Concurrent DML
connection con1;
alter table t1 add column d int, force, algorithm=inplace;
connection con2;
alter table t2 add column d int, force, algorithm=inplace;
connection con3;
alter table t3 add column d int, force, algorithm=inplace;
connection con4;
alter table t4 add column d int, force, algorithm=inplace;
connection con5;
alter table t5 add column d int, force, algorithm=inplace;
connection con6;
insert into t1 values(5,5,5);;
connection con7;
insert into t2 values(5,5,5);;
connection con8;
insert into t3 values(5,5,5);;
connection con9;
insert into t4 values(5,5,5);;
connection con10;
insert into t5 values(5,5,5);;
connection con6;
connection con7;
connection con8;
connection con9;
connection con10;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
# Rollback tests
connection con1;
insert into t1 values(3,2,1,1);
alter table t1 change b b int unique, force, algorithm=inplace;
connection con2;
insert into t2 values(3,2,1,1);
alter table t2 change b b int unique, force, algorithm=inplace;
connection con3;
insert into t3 values(3,2,1,1);
alter table t3 change b b int unique, force, algorithm=inplace;
connection con4;
insert into t4 values(3,2,1,1);
alter table t4 change b b int unique, force, algorithm=inplace;
connection con5;
insert into t5 values(3,2,1,1);
alter table t5 change b b int unique, force, algorithm=inplace;
connection con1;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con2;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con3;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con4;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con5;
ERROR 23000: Duplicate entry '2' for key 'b'
drop table t1,t2,t3,t4,t5;
disconnect con1;
disconnect con2;
disconnect con3;
disconnect con4;
disconnect con5;
disconnect con6;
disconnect con7;
disconnect con8;
disconnect con9;
disconnect con10;
connection default;
SET GLOBAL debug_dbug= @old_debug;
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 16 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 17 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 18 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 19 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 20 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 26 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 27 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 28 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 29 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 30 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 38 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 36 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 37 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 39 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 40 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter  table t3 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter  table t5 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter  table t1 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter  table t4 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter  table t2 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter  table t4 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter  table t3 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter  table t2 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter  table t1 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter  table t5 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter table t2 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter table t5 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter table t1 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter table t3 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter table t4 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 46 */ alter table t1 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 47 */ alter table t2 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 48 */ alter table t3 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 50 */ alter table t5 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 49 */ alter table t4 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
connection slave;
stop slave;
SET GLOBAL slave_parallel_threads=10;
set global slave_parallel_mode=optimistic;
start slave;
#Parallel Slave
connection master;
connection master;
# Myisam
create table t1( a int, b int);
insert into t1 values(1,1);
insert into t1 values(2,2);
#Normal Alter
alter table t1 add column c int;
#Failed Alter
insert into t1 values(1,1, NULL);
alter table t1 change a a int unique ;
ERROR 23000: Duplicate entry '1' for key 'a'
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 16 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 17 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 18 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 19 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 20 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 26 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 27 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 28 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 29 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 30 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 38 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 36 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 37 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 39 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 40 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter  table t3 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter  table t5 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter  table t1 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter  table t4 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter  table t2 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter  table t4 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter  table t3 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter  table t2 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter  table t1 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter  table t5 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter table t2 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter table t5 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter table t1 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter table t3 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter table t4 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 46 */ alter table t1 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 47 */ alter table t2 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 48 */ alter table t3 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 50 */ alter table t5 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 49 */ alter table t4 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
show create table t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int(11) DEFAULT NULL,
  `b` int(11) DEFAULT NULL,
  `c` int(11) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1
connection master;
drop table t1;
connection slave;
connection master;
# Innodb
create table t1( a int, b int) engine=innodb;
insert into t1 values(1,1);
insert into t1 values(2,2);
#Normal Alter
alter table t1 add column c int;
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 16 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 17 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 18 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 19 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 20 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 26 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 27 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 28 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 29 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 30 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 38 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 36 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 37 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 39 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 40 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter  table t3 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter  table t5 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter  table t1 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter  table t4 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter  table t2 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter  table t4 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter  table t3 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter  table t2 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter  table t1 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter  table t5 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter table t2 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter table t5 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter table t1 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter table t3 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter table t4 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 46 */ alter table t1 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 47 */ alter table t2 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 48 */ alter table t3 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 50 */ alter table t5 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 49 */ alter table t4 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
show create table t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int(11) DEFAULT NULL,
  `b` int(11) DEFAULT NULL,
  `c` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1
connection master;
drop table t1;
connection slave;
connection master;
# Aria
create table t1( a int, b int) engine=aria;
insert into t1 values(1,1);
insert into t1 values(2,2);
#Normal Alter
alter table t1 add column c int;
#Failed Alter
insert into t1 values(1,1, NULL);
alter table t1 change a a int unique ;
ERROR 23000: Duplicate entry '1' for key 'a'
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 16 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 17 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 18 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 19 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 20 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 26 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 27 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 28 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 29 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 30 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 38 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 36 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 37 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 39 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 40 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter  table t3 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter  table t5 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter  table t1 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter  table t4 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter  table t2 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter  table t4 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter  table t3 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter  table t2 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter  table t1 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter  table t5 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter table t2 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter table t5 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter table t1 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter table t3 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter table t4 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 46 */ alter table t1 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 47 */ alter table t2 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 48 */ alter table t3 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 50 */ alter table t5 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 49 */ alter table t4 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
show create table t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int(11) DEFAULT NULL,
  `b` int(11) DEFAULT NULL,
  `c` int(11) DEFAULT NULL
) ENGINE=Aria DEFAULT CHARSET=latin1 PAGE_CHECKSUM=1
connection master;
drop table t1;
connection slave;
connection master;
#concurrent alter Myisam
SET @old_debug= @@global.debug;
set global debug_dbug="+d,start_alter_delay_master";
create table t1( a int primary key, b int) engine=myisam;
insert into t1 values(1,1),(2,2);
create table t2( a int primary key, b int) engine=myisam;
insert into t2 values(1,1),(2,2);
create table t3( a int primary key, b int) engine=myisam;
insert into t3 values(1,1),(2,2);
create table t4( a int primary key, b int) engine=myisam;
insert into t4 values(1,1),(2,2);
create table t5( a int primary key, b int) engine=myisam;
insert into t5 values(1,1),(2,2);
connect  con1,localhost,root,,;
connect  con2,localhost,root,,;
connect  con3,localhost,root,,;
connect  con4,localhost,root,,;
connect  con5,localhost,root,,;
connect  con6,localhost,root,,;
connect  con7,localhost,root,,;
connect  con8,localhost,root,,;
connect  con9,localhost,root,,;
connect  con10,localhost,root,,;
connection con1;
alter  table t1 add column c int, force, algorithm=copy;
connection con2;
alter  table t2 add column c int, force, algorithm=copy;
connection con3;
alter  table t3 add column c int, force, algorithm=copy;
connection con4;
alter  table t4 add column c int, force, algorithm=copy;
connection con5;
alter  table t5 add column c int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
#Concurrent DML
connection con1;
alter table t1 add column d int, force, algorithm=copy;
connection con2;
alter table t2 add column d int, force, algorithm=copy;
connection con3;
alter table t3 add column d int, force, algorithm=copy;
connection con4;
alter table t4 add column d int, force, algorithm=copy;
connection con5;
alter table t5 add column d int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
# Rollback tests
connection con1;
insert into t1 values(3,2,1,1);
alter table t1 change b b int unique, force, algorithm=copy;
connection con2;
insert into t2 values(3,2,1,1);
alter table t2 change b b int unique, force, algorithm=copy;
connection con3;
insert into t3 values(3,2,1,1);
alter table t3 change b b int unique, force, algorithm=copy;
connection con4;
insert into t4 values(3,2,1,1);
alter table t4 change b b int unique, force, algorithm=copy;
connection con5;
insert into t5 values(3,2,1,1);
alter table t5 change b b int unique, force, algorithm=copy;
connection con1;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con2;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con3;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con4;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con5;
ERROR 23000: Duplicate entry '2' for key 'b'
drop table t1,t2,t3,t4,t5;
disconnect con1;
disconnect con2;
disconnect con3;
disconnect con4;
disconnect con5;
disconnect con6;
disconnect con7;
disconnect con8;
disconnect con9;
disconnect con10;
connection default;
SET GLOBAL debug_dbug= @old_debug;
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 16 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 17 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 18 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 19 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 20 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 26 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 27 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 28 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 29 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 30 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 38 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 36 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 37 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 39 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 40 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter  table t3 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter  table t5 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter  table t1 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter  table t4 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter  table t2 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter  table t4 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter  table t3 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter  table t2 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter  table t1 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter  table t5 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter table t2 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter table t5 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter table t1 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter table t3 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter table t4 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 46 */ alter table t1 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 47 */ alter table t2 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 48 */ alter table t3 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 50 */ alter table t5 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 49 */ alter table t4 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 57 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 61 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 58 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 60 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 59 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 61 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 57 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 58 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 59 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 60 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 61 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 58 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 60 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 59 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 57 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
connection master;
#concurrent alter Aria
SET @old_debug= @@global.debug;
set global debug_dbug="+d,start_alter_delay_master";
create table t1( a int primary key, b int) engine=aria;
insert into t1 values(1,1),(2,2);
create table t2( a int primary key, b int) engine=aria;
insert into t2 values(1,1),(2,2);
create table t3( a int primary key, b int) engine=aria;
insert into t3 values(1,1),(2,2);
create table t4( a int primary key, b int) engine=aria;
insert into t4 values(1,1),(2,2);
create table t5( a int primary key, b int) engine=aria;
insert into t5 values(1,1),(2,2);
connect  con1,localhost,root,,;
connect  con2,localhost,root,,;
connect  con3,localhost,root,,;
connect  con4,localhost,root,,;
connect  con5,localhost,root,,;
connect  con6,localhost,root,,;
connect  con7,localhost,root,,;
connect  con8,localhost,root,,;
connect  con9,localhost,root,,;
connect  con10,localhost,root,,;
connection con1;
alter  table t1 add column c int, force, algorithm=copy;
connection con2;
alter  table t2 add column c int, force, algorithm=copy;
connection con3;
alter  table t3 add column c int, force, algorithm=copy;
connection con4;
alter  table t4 add column c int, force, algorithm=copy;
connection con5;
alter  table t5 add column c int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
#Concurrent DML
connection con1;
alter table t1 add column d int, force, algorithm=copy;
connection con2;
alter table t2 add column d int, force, algorithm=copy;
connection con3;
alter table t3 add column d int, force, algorithm=copy;
connection con4;
alter table t4 add column d int, force, algorithm=copy;
connection con5;
alter table t5 add column d int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
# Rollback tests
connection con1;
insert into t1 values(3,2,1,1);
alter table t1 change b b int unique, force, algorithm=copy;
connection con2;
insert into t2 values(3,2,1,1);
alter table t2 change b b int unique, force, algorithm=copy;
connection con3;
insert into t3 values(3,2,1,1);
alter table t3 change b b int unique, force, algorithm=copy;
connection con4;
insert into t4 values(3,2,1,1);
alter table t4 change b b int unique, force, algorithm=copy;
connection con5;
insert into t5 values(3,2,1,1);
alter table t5 change b b int unique, force, algorithm=copy;
connection con1;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con2;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con3;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con4;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con5;
ERROR 23000: Duplicate entry '2' for key 'b'
drop table t1,t2,t3,t4,t5;
disconnect con1;
disconnect con2;
disconnect con3;
disconnect con4;
disconnect con5;
disconnect con6;
disconnect con7;
disconnect con8;
disconnect con9;
disconnect con10;
connection default;
SET GLOBAL debug_dbug= @old_debug;
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 16 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 17 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 18 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 19 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 20 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 26 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 27 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 28 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 29 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 30 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 38 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 36 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 37 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 39 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 40 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter  table t3 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter  table t5 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter  table t1 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter  table t4 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter  table t2 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter  table t4 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter  table t3 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter  table t2 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter  table t1 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter  table t5 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter table t2 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter table t5 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter table t1 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter table t3 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter table t4 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 46 */ alter table t1 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 47 */ alter table t2 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 48 */ alter table t3 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 50 */ alter table t5 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 49 */ alter table t4 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 57 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 61 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 58 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 60 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 59 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 61 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 57 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 58 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 59 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 60 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 61 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 58 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 60 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 59 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 57 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 67 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 68 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 69 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 71 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 70 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 67 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 71 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 70 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 68 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 69 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 67 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 69 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 70 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 68 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 71 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 69 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 67 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 68 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 71 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 70 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 67 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 68 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 69 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 70 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 71 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 67 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 68 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 70 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 71 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 69 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
connection master;
#concurrent alter Innodb copy
SET @old_debug= @@global.debug;
set global debug_dbug="+d,start_alter_delay_master";
create table t1( a int primary key, b int) engine=innodb;
insert into t1 values(1,1),(2,2);
create table t2( a int primary key, b int) engine=innodb;
insert into t2 values(1,1),(2,2);
create table t3( a int primary key, b int) engine=innodb;
insert into t3 values(1,1),(2,2);
create table t4( a int primary key, b int) engine=innodb;
insert into t4 values(1,1),(2,2);
create table t5( a int primary key, b int) engine=innodb;
insert into t5 values(1,1),(2,2);
connect  con1,localhost,root,,;
connect  con2,localhost,root,,;
connect  con3,localhost,root,,;
connect  con4,localhost,root,,;
connect  con5,localhost,root,,;
connect  con6,localhost,root,,;
connect  con7,localhost,root,,;
connect  con8,localhost,root,,;
connect  con9,localhost,root,,;
connect  con10,localhost,root,,;
connection con1;
alter  table t1 add column c int, force, algorithm=copy;
connection con2;
alter  table t2 add column c int, force, algorithm=copy;
connection con3;
alter  table t3 add column c int, force, algorithm=copy;
connection con4;
alter  table t4 add column c int, force, algorithm=copy;
connection con5;
alter  table t5 add column c int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
#Concurrent DML
connection con1;
alter table t1 add column d int, force, algorithm=copy;
connection con2;
alter table t2 add column d int, force, algorithm=copy;
connection con3;
alter table t3 add column d int, force, algorithm=copy;
connection con4;
alter table t4 add column d int, force, algorithm=copy;
connection con5;
alter table t5 add column d int, force, algorithm=copy;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
# Rollback tests
connection con1;
insert into t1 values(3,2,1,1);
alter table t1 change b b int unique, force, algorithm=copy;
connection con2;
insert into t2 values(3,2,1,1);
alter table t2 change b b int unique, force, algorithm=copy;
connection con3;
insert into t3 values(3,2,1,1);
alter table t3 change b b int unique, force, algorithm=copy;
connection con4;
insert into t4 values(3,2,1,1);
alter table t4 change b b int unique, force, algorithm=copy;
connection con5;
insert into t5 values(3,2,1,1);
alter table t5 change b b int unique, force, algorithm=copy;
connection con1;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con2;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con3;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con4;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con5;
ERROR 23000: Duplicate entry '2' for key 'b'
drop table t1,t2,t3,t4,t5;
disconnect con1;
disconnect con2;
disconnect con3;
disconnect con4;
disconnect con5;
disconnect con6;
disconnect con7;
disconnect con8;
disconnect con9;
disconnect con10;
connection default;
SET GLOBAL debug_dbug= @old_debug;
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 16 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 17 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 18 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 19 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 20 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 26 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 27 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 28 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 29 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 30 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 38 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 36 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 37 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 39 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 40 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter  table t3 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter  table t5 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter  table t1 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter  table t4 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter  table t2 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter  table t4 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter  table t3 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter  table t2 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter  table t1 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter  table t5 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter table t2 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter table t5 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter table t1 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter table t3 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter table t4 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 46 */ alter table t1 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 47 */ alter table t2 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 48 */ alter table t3 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 50 */ alter table t5 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 49 */ alter table t4 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 57 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 61 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 58 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 60 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 59 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 61 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 57 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 58 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 59 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 60 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 61 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 58 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 60 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 59 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 57 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 67 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 68 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 69 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 71 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 70 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 67 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 71 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 70 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 68 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 69 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 67 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 69 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 70 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 68 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 71 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 69 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 67 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 68 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 71 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 70 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 67 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 68 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 69 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 70 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 71 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 67 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 68 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 70 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 71 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 69 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 77 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 81 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 79 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 80 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 78 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 81 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 80 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 79 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 78 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 77 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 81 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 80 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 77 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 78 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 79 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 80 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 81 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 77 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 78 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 79 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 77 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 78 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 79 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 80 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 81 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 78 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 77 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 79 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 81 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 80 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
connection master;
#concurrent alter Innodb Inplace
SET @old_debug= @@global.debug;
set global debug_dbug="+d,start_alter_delay_master";
create table t1( a int primary key, b int) engine=innodb;
insert into t1 values(1,1),(2,2);
create table t2( a int primary key, b int) engine=innodb;
insert into t2 values(1,1),(2,2);
create table t3( a int primary key, b int) engine=innodb;
insert into t3 values(1,1),(2,2);
create table t4( a int primary key, b int) engine=innodb;
insert into t4 values(1,1),(2,2);
create table t5( a int primary key, b int) engine=innodb;
insert into t5 values(1,1),(2,2);
connect  con1,localhost,root,,;
connect  con2,localhost,root,,;
connect  con3,localhost,root,,;
connect  con4,localhost,root,,;
connect  con5,localhost,root,,;
connect  con6,localhost,root,,;
connect  con7,localhost,root,,;
connect  con8,localhost,root,,;
connect  con9,localhost,root,,;
connect  con10,localhost,root,,;
connection con1;
alter  table t1 add column c int, force, algorithm=inplace;
connection con2;
alter  table t2 add column c int, force, algorithm=inplace;
connection con3;
alter  table t3 add column c int, force, algorithm=inplace;
connection con4;
alter  table t4 add column c int, force, algorithm=inplace;
connection con5;
alter  table t5 add column c int, force, algorithm=inplace;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
#Concurrent DML
connection con1;
alter table t1 add column d int, force, algorithm=inplace;
connection con2;
alter table t2 add column d int, force, algorithm=inplace;
connection con3;
alter table t3 add column d int, force, algorithm=inplace;
connection con4;
alter table t4 add column d int, force, algorithm=inplace;
connection con5;
alter table t5 add column d int, force, algorithm=inplace;
connection con6;
insert into t1 values(5,5,5);;
connection con7;
insert into t2 values(5,5,5);;
connection con8;
insert into t3 values(5,5,5);;
connection con9;
insert into t4 values(5,5,5);;
connection con10;
insert into t5 values(5,5,5);;
connection con6;
connection con7;
connection con8;
connection con9;
connection con10;
connection con1;
connection con2;
connection con3;
connection con4;
connection con5;
# Rollback tests
connection con1;
insert into t1 values(3,2,1,1);
alter table t1 change b b int unique, force, algorithm=inplace;
connection con2;
insert into t2 values(3,2,1,1);
alter table t2 change b b int unique, force, algorithm=inplace;
connection con3;
insert into t3 values(3,2,1,1);
alter table t3 change b b int unique, force, algorithm=inplace;
connection con4;
insert into t4 values(3,2,1,1);
alter table t4 change b b int unique, force, algorithm=inplace;
connection con5;
insert into t5 values(3,2,1,1);
alter table t5 change b b int unique, force, algorithm=inplace;
connection con1;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con2;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con3;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con4;
ERROR 23000: Duplicate entry '2' for key 'b'
connection con5;
ERROR 23000: Duplicate entry '2' for key 'b'
drop table t1,t2,t3,t4,t5;
disconnect con1;
disconnect con2;
disconnect con3;
disconnect con4;
disconnect con5;
disconnect con6;
disconnect con7;
disconnect con8;
disconnect con9;
disconnect con10;
connection default;
SET GLOBAL debug_dbug= @old_debug;
connection slave;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 16 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 20 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 19 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 17 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 18 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 16 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 17 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 18 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 19 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 20 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 16 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 17 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 18 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 19 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 20 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 26 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 28 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 27 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 30 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 29 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 26 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 27 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 28 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 29 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 30 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 26 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 27 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 28 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 29 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 30 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 36 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 39 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 40 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 37 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 38 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 36 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 37 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 38 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 39 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 40 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 38 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 36 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 37 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 39 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 40 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter  table t3 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter  table t5 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter  table t1 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter  table t4 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter  table t2 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter  table t4 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter  table t3 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter  table t2 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter  table t1 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter  table t5 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 47 */ alter table t2 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 50 */ alter table t5 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 46 */ alter table t1 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 48 */ alter table t3 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 49 */ alter table t4 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 46 alter table t1 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 47 alter table t2 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 48 alter table t3 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 49 alter table t4 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 50 alter table t5 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 46 */ alter table t1 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 47 */ alter table t2 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 48 */ alter table t3 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 50 */ alter table t5 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 49 */ alter table t4 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int)
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 add column c int */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 14 */ alter table t1 add column c int
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1, NULL)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 14 alter table t1 change a a int unique */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 14 */ alter table t1 change a a int unique
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=myisam
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 57 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 61 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 58 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 60 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 59 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 61 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 57 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 58 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 59 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 60 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 57 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 58 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 59 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 60 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 61 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 61 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 58 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 60 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 59 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 57 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=aria
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 67 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 68 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 69 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 71 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 70 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 67 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 71 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 70 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 68 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 69 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 67 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 69 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 70 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 68 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 71 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 69 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 67 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 68 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 71 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 70 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 67 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 68 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 69 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 70 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 71 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 67 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 68 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 70 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 71 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 69 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 77 alter  table t1 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 81 alter  table t5 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 79 alter  table t3 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 80 alter  table t4 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 78 alter  table t2 add column c int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 81 */ alter  table t5 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 80 */ alter  table t4 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 79 */ alter  table t3 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 78 */ alter  table t2 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 77 */ alter  table t1 add column c int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 81 alter table t5 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 80 alter table t4 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 77 alter table t1 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 78 alter table t2 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 79 alter table t3 add column d int, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 80 */ alter table t4 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 81 */ alter table t5 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 77 */ alter table t1 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 78 */ alter table t2 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 79 */ alter table t3 add column d int, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 77 alter table t1 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 78 alter table t2 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 79 alter table t3 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 80 alter table t4 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 81 alter table t5 change b b int unique, force, algorithm=copy */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 78 */ alter table t2 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 77 */ alter table t1 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 79 */ alter table t3 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 81 */ alter table t5 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 80 */ alter table t4 change b b int unique, force, algorithm=copy
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t1( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t2( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t3( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t4( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; create table t5( a int primary key, b int) engine=innodb
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(1,1),(2,2)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 88 alter  table t2 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 89 alter  table t3 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 90 alter  table t4 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 87 alter  table t1 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 91 alter  table t5 add column c int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 91 */ alter  table t5 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 90 */ alter  table t4 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 89 */ alter  table t3 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 87 */ alter  table t1 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 88 */ alter  table t2 add column c int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 87 alter table t1 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 88 alter table t2 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 89 alter table t3 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 90 alter table t4 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 91 alter table t5 add column d int, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(5,5,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 87 */ alter table t1 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 91 */ alter table t5 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 89 */ alter table t3 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 90 */ alter table t4 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 COMMIT 88 */ alter table t2 add column d int, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t1 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 87 alter table t1 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t2 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 88 alter table t2 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t3 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 89 alter table t3 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t4 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 90 alter table t4 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
slave-bin.000001	#	Annotate_rows	#	#	insert into t5 values(3,2,1,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
slave-bin.000001	#	Write_rows_v1	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 START 91 alter table t5 change b b int unique, force, algorithm=inplace */
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 88 */ alter table t2 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 90 */ alter table t4 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 87 */ alter table t1 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 89 */ alter table t3 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; /*!100001 ROLLBACK 91 */ alter table t5 change b b int unique, force, algorithm=inplace
slave-bin.000001	#	Gtid	#	#	GTID #-#-#
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE IF EXISTS `t1`,`t2`,`t3`,`t4`,`t5` /* generated by server */
stop slave;
SET GLOBAL slave_parallel_threads=0;
set global slave_parallel_mode=conservative;
start slave;
connection master;
set global binlog_split_alter=false;
include/rpl_end.inc
