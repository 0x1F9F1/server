--disable_warnings
DROP TABLE IF EXISTS t;
--enable_warnings
SET SESSION DEFAULT_STORAGE_ENGINE="TokuDB";
CREATE TABLE t (a INT PRIMARY KEY, b INT, c INT, d INT);
INSERT INTO t VALUES (1,2,3,4),(2,3,4,5);
SELECT * FROM t;
SET SESSION TOKUDB_DISABLE_SLOW_ALTER=1;
ALTER TABLE t CHANGE COLUMN b b BIGINT;
SELECT * FROM t;
ALTER TABLE t CHANGE COLUMN c c BIGINT;
SELECT * FROM t;
ALTER TABLE t CHANGE COLUMN d d BIGINT;
SELECT * FROM t;
DROP TABLE t;

CREATE TABLE t (a INT PRIMARY KEY, b INT, c INT, d INT, CLUSTERING KEY(c));
INSERT INTO t VALUES (1,2,3,4),(2,3,4,5);
SELECT * FROM t;
SET SESSION TOKUDB_DISABLE_SLOW_ALTER=1;
ALTER TABLE t CHANGE COLUMN b b BIGINT;
SELECT * FROM t;
ALTER TABLE t CHANGE COLUMN d d BIGINT;
SELECT * FROM t;
DROP TABLE t;

