DROP TABLE IF EXISTS t;
SET SESSION TOKUDB_DISABLE_SLOW_ALTER=ON;
CREATE TABLE t (a VARBINARY(100), b VARBINARY(256)) ENGINE=TokuDB;
ALTER TABLE t CHANGE COLUMN a aa VARBINARY(1);
ERROR 42000: Table 't' uses an extension that doesn't exist in this MariaDB version
ALTER TABLE t CHANGE COLUMN a aa VARBINARY(255);
ALTER TABLE t CHANGE COLUMN aa a VARBINARY(255);
ALTER TABLE t CHANGE COLUMN b bb VARBINARY(255);
ERROR 42000: Table 't' uses an extension that doesn't exist in this MariaDB version
ALTER TABLE t CHANGE COLUMN b bb VARBINARY(1024);
ALTER TABLE t CHANGE COLUMN bb b VARBINARY(1024);
ALTER TABLE t CHANGE COLUMN b bb VARBINARY(256);
ERROR 42000: Table 't' uses an extension that doesn't exist in this MariaDB version
DROP TABLE t;
